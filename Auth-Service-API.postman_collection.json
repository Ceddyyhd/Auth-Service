{
	"info": {
		"name": "Auth Service API",
		"description": "Vereinfachte API-Collection mit den wichtigsten Endpoints (Updated: 2025-12-25)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_postman_id": "auth-service-basic-2025"
	},
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		},
		{
			"key": "website_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "api_key",
			"value": "",
			"type": "string"
		},
		{
			"key": "api_secret",
			"value": "",
			"type": "string"
		},
		{
			"key": "access_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "refresh_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "user_id",
			"value": "",
			"type": "string"
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{access_token}}",
				"type": "string"
			}
		]
	},
	"item": [
		{
			"name": "üîê Authentifizierung",
			"item": [
				{
					"name": "Registrierung",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.tokens) {",
									"        pm.collectionVariables.set('access_token', jsonData.tokens.access);",
									"        pm.collectionVariables.set('refresh_token', jsonData.tokens.refresh);",
									"    }",
									"    if (jsonData.user) {",
									"        pm.collectionVariables.set('user_id', jsonData.user.id);",
									"    }",
									"    console.log('‚úÖ Registrierung erfolgreich');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-API-Key",
								"value": "{{api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"test@example.com\",\n  \"username\": \"testuser\",\n  \"password\": \"SecurePassword123!\",\n  \"password_confirm\": \"SecurePassword123!\",\n  \"first_name\": \"Test\",\n  \"last_name\": \"User\",\n  \"website_id\": \"{{website_id}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/accounts/register/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", "register", ""]
						}
					},
					"response": []
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set('access_token', jsonData.access);",
									"    pm.collectionVariables.set('refresh_token', jsonData.refresh);",
									"    if (jsonData.user) {",
									"        pm.collectionVariables.set('user_id', jsonData.user.id);",
									"    }",
									"    console.log('‚úÖ Login erfolgreich');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-API-Key",
								"value": "{{api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"SecurePassword123!\",\n  \"website_id\": \"{{website_id}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/accounts/login/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", "login", ""]
						}
					},
					"response": []
				},
				{
					"name": "Token aktualisieren",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set('access_token', jsonData.access);",
									"    console.log('‚úÖ Token aktualisiert');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"refresh\": \"{{refresh_token}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/accounts/token/refresh/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", "token", "refresh", ""]
						}
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"refresh_token\": \"{{refresh_token}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/accounts/logout/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", "logout", ""]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üë§ Benutzerprofil",
			"item": [
				{
					"name": "Profil abrufen",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/accounts/profile/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", "profile", ""]
						}
					},
					"response": []
				},
				{
					"name": "Profil aktualisieren",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"first_name\": \"Aktualisiert\",\n  \"last_name\": \"Name\",\n  \"phone\": \"+1234567890\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/accounts/profile/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", "profile", ""]
						}
					},
					"response": []
				},
				{
					"name": "Passwort √§ndern",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"old_password\": \"AltesPasswort123!\",\n  \"new_password\": \"NeuesPasswort123!\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/accounts/change-password/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", "change-password", ""]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üåç Websites",
			"item": [
				{
					"name": "Websites auflisten",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/accounts/websites/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", "websites", ""]
						}
					},
					"response": []
				},
				{
					"name": "Website erstellen",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set('website_id', jsonData.id);",
									"    pm.collectionVariables.set('api_key', jsonData.api_key);",
									"    pm.collectionVariables.set('api_secret', jsonData.api_secret);",
									"    console.log('‚úÖ Website erstellt - ID: ' + jsonData.id);",
									"    console.log('API Key: ' + jsonData.api_key);",
									"    console.log('API Secret: ' + jsonData.api_secret);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Meine Website\",\n  \"domain\": \"example.com\",\n  \"allowed_origins\": [\"http://localhost:3000\"],\n  \"required_fields\": [\"first_name\", \"last_name\", \"email\"],\n  \"enable_email_verification\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/accounts/websites/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", "websites", ""]
						}
					},
					"response": []
				},
				{
					"name": "Website Details",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/accounts/websites/{{website_id}}/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", "websites", "{{website_id}}", ""]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üìß E-Mail & Verifizierung",
			"item": [
				{
					"name": "Verifizierungs-E-Mail erneut senden",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-API-Key",
								"value": "{{api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"test@example.com\",\n  \"website_id\": \"{{website_id}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/accounts/resend-verification/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", "resend-verification", ""]
						}
					},
					"response": []
				},
				{
					"name": "E-Mail verifizieren",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"token\": \"verification-token-here\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/accounts/verify-email/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", "verify-email", ""]
						}
					},
					"response": []
				},
				{
					"name": "Passwort-Reset anfordern",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-API-Key",
								"value": "{{api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"test@example.com\",\n  \"website_id\": \"{{website_id}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/accounts/request-password-reset/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", "request-password-reset", ""]
						}
					},
					"response": []
				},
				{
					"name": "Passwort zur√ºcksetzen",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"token\": \"reset-token-here\",\n  \"new_password\": \"NeuesPasswort123!\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/accounts/reset-password/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", "reset-password", ""]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üîí Multi-Factor Authentication",
			"item": [
				{
					"name": "MFA-Status",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/accounts/mfa/status/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", "mfa", "status", ""]
						}
					},
					"response": []
				},
				{
					"name": "MFA aktivieren",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/accounts/mfa/enable/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", "mfa", "enable", ""]
						}
					},
					"response": []
				},
				{
					"name": "MFA-Setup verifizieren",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"token\": \"123456\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/accounts/mfa/verify-setup/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", "mfa", "verify-setup", ""]
						}
					},
					"response": []
				},
				{
					"name": "MFA deaktivieren",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"password\": \"SecurePassword123!\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/accounts/mfa/disable/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", "mfa", "disable", ""]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üë• Social Login",
			"item": [
				{
					"name": "Social Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-API-Key",
								"value": "{{api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"provider\": \"google\",\n  \"access_token\": \"google-access-token\",\n  \"website_id\": \"{{website_id}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/accounts/social-login/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", "social-login", ""]
						}
					},
					"response": []
				},
				{
					"name": "Verkn√ºpfte Social Accounts",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/accounts/social-accounts/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", "social-accounts", ""]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üéØ Berechtigungen",
			"item": [
				{
					"name": "Berechtigungen auflisten",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/permissions/permissions/",
							"host": ["{{base_url}}"],
							"path": ["api", "permissions", "permissions", ""]
						}
					},
					"response": []
				},
				{
					"name": "Meine Berechtigungen pr√ºfen",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/permissions/check/me/?website_id={{website_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "permissions", "check", "me", ""],
							"query": [
								{
									"key": "website_id",
									"value": "{{website_id}}"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üë• Rollen",
			"item": [
				{
					"name": "Rollen auflisten",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/permissions/roles/",
							"host": ["{{base_url}}"],
							"path": ["api", "permissions", "roles", ""]
						}
					},
					"response": []
				}
			]
		}
	]
}
